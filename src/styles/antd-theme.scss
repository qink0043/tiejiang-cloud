/**
 * Ant Design 主题修复
 * 确保所有组件在暗黑模式下保持一致
 */

[data-theme="dark"] {
  /* 修复所有输入型组件的背景色 */
  .ant-input,
  .ant-input-number,
  .ant-input-affix-wrapper,
  .ant-input-password,
  .ant-select-selector,
  .ant-picker,
  .ant-cascader-picker,
  .ant-mentions,
  .ant-transfer-list,
  .ant-table,
  .ant-table-thead > tr > th,
  .ant-table-tbody > tr > td,
  .ant-table-tbody > tr.ant-table-placeholder:hover > td,
  .ant-table-wrapper .ant-table-tbody >tr.ant-table-row:hover>td {
    background-color: var(--input-background) !important;
    border-color: var(--border-color) !important;
    color: var(--text-color) !important;
  }

  /* 修复hover状态 */
  .ant-input:hover,
  .ant-input-number:hover,
  .ant-input-affix-wrapper:hover,
  .ant-input-password:hover,
  .ant-select-selector:hover,
  .ant-picker:hover,
  .ant-cascader-picker:hover {
    border-color: var(--input-hover-border) !important;
    background-color: var(--input-background) !important;
  }

  /* 修复focus状态 */
  .ant-input:focus,
  .ant-input-focused,
  .ant-input-number:focus,
  .ant-input-number-focused,
  .ant-input-affix-wrapper:focus,
  .ant-input-affix-wrapper-focused,
  .ant-input-password:focus,
  .ant-input-password-focused,
  .ant-select-focused .ant-select-selector,
  .ant-picker-focused,
  .ant-cascader-picker-focused {
    border-color: var(--primary-color) !important;
    box-shadow: 0 0 0 2px var(--input-focus-shadow) !important;
    background-color: var(--input-background) !important;
  }

  /* 修复禁用状态 */
  .ant-input[disabled],
  .ant-input-number[disabled],
  .ant-input-affix-wrapper[disabled],
  .ant-input-password[disabled] {
    background-color: rgba(255, 255, 255, 0.08) !important;
    color: var(--text-color-secondary) !important;
  }

  /* 修复placeholder颜色 */
  .ant-input::placeholder,
  .ant-input-number::placeholder,
  .ant-input-affix-wrapper ::placeholder {
    color: var(--text-color-secondary) !important;
    opacity: 0.7;
  }

  /* 修复图标颜色 */
  .ant-input-prefix,
  .ant-input-suffix,
  .ant-input-affix-wrapper .anticon,
  .ant-input-password .anticon {
    color: var(--text-color-secondary) !important;
  }

  /* 修复清除图标 */
  .ant-input-clear-icon {
    color: var(--text-color-secondary) !important;
  }

  .ant-input-clear-icon:hover {
    color: var(--text-color) !important;
  }
}